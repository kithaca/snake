{"version":3,"sources":["webpack/bootstrap 4717ccd21061f4265466","./js/main.js","./js/snake.js","./js/board.js","./js/snake-view.js","./js/coord.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACND;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wB;;;;;;AC9CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wB;;;;;;AC3DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,uBAAuB;AACvC;;AAEA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uB;;;;;;ACpFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA,wB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4717ccd21061f4265466\n **/","var View = require(\"./snake-view\");\n\n$(function () {\n  var $board = $(\"#board\");\n  new View($board);\n  console.log(\"created game\");\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 1\n ** module chunks = 0\n **/","var Coord = require(\"./coord\");\n\n\nfunction Snake(front, dir, segments) {\n\tthis.front = front;\n\tthis.currentDir = dir;\n\tthis.segments = segments;\n\tthis.turning = false;\n}\n\nSnake.prototype.move = function () {\n\tthis.front = this.nextMove();\n\tthis.segments.unshift(this.front);\n\tthis.segments.pop();\n\tthis.turning = false;\n};\n\nSnake.prototype.nextMove = function () {\n\tvar next = Coord.prototype.plus(this.front, this.currentDir);\n\treturn next;\n};\n\nSnake.prototype.isOccupied = function (pos) {\n\tif (Coord.prototype.includes(this.segments, pos)) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nSnake.prototype.turn = function (dir) {\n\tif (this.turning) {\n\t\treturn;\n\t} else {\n\t\tthis.turning = true;\n\t\tthis.currentDir = dir;\n\t}\n};\n\nSnake.prototype.grow = function () {\n\tvar opposite = Coord.prototype.findOpposite(this.currentDir);\n\tvar last = this.segments[this.segments.length-1];\n\tvar tail = Coord.prototype.plus(last, opposite);\n\tthis.segments.push(tail);\n};\n\nmodule.exports = Snake;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 2\n ** module chunks = 0\n **/","var Snake = require(\"./snake\");\nvar Coord = require(\"./coord\");\n\nfunction Board(snake) {\n\tthis.maxCol = 30;\n\tthis.maxRow = 20;\n\tthis.snake = new Snake([5, 5], \"E\", [[5, 5]]);\n\tthis.setApple();\n}\n\nBoard.prototype.validMove = function (pos) {\n\tif (pos[0] < 0 || pos[0] >= this.maxRow || pos[1] < 0 || pos[1] >= this.maxCol) {\n\t\treturn false;\n\t} else if (this.snake.isOccupied(pos)) {\n\t\tdebugger\n\t\treturn false;\n\t} else {\n\t\treturn true;\n\t}\n};\n\nBoard.prototype.randomPosition = function () {\n  var row = Math.floor(Math.random() * this.maxRow);\n  var col = Math.floor(Math.random() * this.maxCol);\n  return [row, col];\n}\n\nBoard.prototype.setApple = function () {\n\tvar found = false;\n\tvar newApple;\n\twhile (!found) {\n\t\tvar newApple = this.randomPosition();\n\t\tif (!this.snake.isOccupied(newApple)) {\n\t\t\tfound = true;\n\t\t}\n\t}\n\tthis.apple = newApple;\n}\n\nBoard.prototype.moveSnake = function () {\n\tvar pos = this.snake.nextMove();\n\tif (this.validMove(pos)) {\n\t\tif (Coord.prototype.equals(this.apple, pos)) {\n\t\t\tthis.eatApple();\n\t\t}\n\t\tthis.snake.move();\n\t}\n\telse {\n\t\tthrow \"Game Over!\";\n\t\t// do nothing\n\t}\n};\n\nBoard.prototype.eatApple = function () {\n\t// debugger\n\tthis.setApple();\n\tthis.snake.grow();\n};\n\nmodule.exports = Board;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 3\n ** module chunks = 0\n **/","var Board = require(\"./board\");\nvar Coord = require(\"./coord\");\n\nfunction View($el) {\n\tthis.$el = $el;\n\tthis.board = new Board();\n\tthis.snake = this.board.snake;\n\tthis.buildBoard();\n\tthis.render();\n\t$(window).on('keydown', this.handleKeyEvent.bind(this));\n\tthis.startGame = setInterval(this.step.bind(this), 100);\n}\n\nView.prototype.buildBoard = function () {\n\tfor (var i = 0; i < this.board.maxRow; i++) {\n\t\tvar $row = $('<ul>');\n\n\t\tfor (var j = 0; j < this.board.maxCol; j++) {\n\t\t\tvar $square = $('<li>');\n\t\t\t$row.append($square);\n\t\t\t$square.data('pos', [i, j]);\n\t\t}\n\t\tthis.$el.append($row);\n\t}\n};\n\nView.prototype.handleKeyEvent = function (e) {\n\te.preventDefault();\n\tvar newDir;\n\t// debugger\n\tswitch(e.which) {\n\t\tcase 37: // left\n\t\t\tnewDir = \"W\";\n\t\t\tbreak;\n\t\tcase 38: // up\n\t\t\tnewDir = \"N\";\n\t\t\tbreak;\n\t\tcase 39: // right\n\t\t\tnewDir = \"E\";\n\t\t\tbreak;\n\t\tcase 40: // down\n\t\t\tnewDir = \"S\";\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t// do nothing\n\t}\n\tvar currDir = this.snake.currentDir;\n\tif (newDir && newDir !== currDir && !Coord.prototype.isOpposite(newDir, currDir)) {\n\t\tthis.snake.turn(newDir);\n\t} else {\n\t\t// do nothing\n\t}\n};\n\nView.prototype.render = function () {\n\tvar $squares = $('li');\n\tvar view = this;\n\t$.each($squares, function(idx, square) {\n\t\t$square = $(square);\n\t\tvar squarePos = $square.data('pos');\n\t\t$square.removeClass('snakeSeg');\n\t\t$square.removeClass('apple');\n\t\tif (Coord.prototype.includes(view.snake.segments, squarePos)) {\n\t\t\t$square.addClass('snakeSeg');\n\t\t} else if (Coord.prototype.equals(squarePos, view.board.apple)) {\n\t\t\t$square.addClass('apple');\n\t\t}\n\t});\n};\n\nView.prototype.step = function () {\n\ttry {\n\t\tthis.board.moveSnake();\n\t\tthis.render();\n\t}\n\tcatch(err) {\n\t\twindow.clearInterval(this.startGame);\n\t\tconsole.log(err.message);\n\t\talert(\"Game Over!\");\n\t}\n\tfinally {\n\t}\n};\n\nmodule.exports = View;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake-view.js\n ** module id = 4\n ** module chunks = 0\n **/","function Coord () {}\n\nCoord.prototype.DIRS = function () {\n\treturn {\n\t\t\t\t\t\t\"E\": [0, 1],\n \t\t\t\t\t\t\"S\": [1, 0],\n \t\t\t\t\t\t\"W\": [0, -1],\n \t\t\t\t\t\t\"N\": [-1, 0]\n \t\t\t\t\t};\n};\n\nCoord.prototype.plus = function (pos, dir) {\n\tvar newX = pos[0] + (this.DIRS()[dir])[0];\n\tvar newY = pos[1] + (this.DIRS()[dir])[1];\n\treturn [newX, newY];\n};\n\nCoord.prototype.equals = function (pos1, pos2) {\n\tif (pos1[0] === pos2[0] && pos1[1] === pos2[1]) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nCoord.prototype.includes = function (array, pos) {\n\tfor (var i = 0; i < array.length; i++) {\n\t\tif (Coord.prototype.equals(array[i], pos)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nCoord.prototype.isOpposite = function (dir1, dir2) {\n\tvar opp = (Coord.prototype.findOpposite(dir1));\n\tif (opp === dir2) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nCoord.prototype.findOpposite = function (dir) {\n\tif (dir === \"N\") {\n\t\treturn \"S\";\n\t} else if (dir === \"S\") {\n\t\treturn \"N\";\n\t} else if (dir === \"E\") {\n\t\treturn \"W\";\n\t} else if (dir === \"W\") {\n\t\treturn \"E\";\n\t}\n};\n\nmodule.exports = Coord;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/coord.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}